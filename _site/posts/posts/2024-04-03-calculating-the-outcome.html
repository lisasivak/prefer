<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gert Stulp">
<meta name="author" content="Lisa Sivak">
<meta name="dcterms.date" content="2024-04-03">
<meta name="description" content="Here we describe the outcome (or target variable) for the LISS dataset and how we calculated it.">

<title>Calculating the outcome for the LISS data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/PreFer_logo_favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../rwds.css">
<meta property="og:title" content="Calculating the outcome for the LISS data">
<meta property="og:description" content="Here we describe the outcome (or target variable) for the LISS dataset and how we calculated it.">
<meta property="og:image" content="https://preferdatachallenge.nl/images/duck2.png">
<meta property="og:image:height" content="720">
<meta property="og:image:width" content="1280">
<meta property="og:image:alt" content="LISS logo.">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/PreFer_logo_no_text2.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../details/overview/3application.html" rel="" target="">
 <span class="menu-text">APPLY</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../#important-dates" rel="" target="">
 <span class="menu-text">Important dates</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../#how-to-participate" rel="" target="">
 <span class="menu-text">How to participate</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://arxiv.org/abs/2402.00705" rel="" target="">
 <span class="menu-text">Paper</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../faq/index.html" rel="" target="">
 <span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts/index.html" rel="" target="">
 <span class="menu-text">Guides</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-organizers" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Organizers</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-organizers">    
        <li>
    <a class="dropdown-item" href="../../about-us.html" rel="" target="">
 <span class="dropdown-text">Who we are</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../contact.html" rel="" target="">
 <span class="dropdown-text">Contact us</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../funding.html" rel="" target="">
 <span class="dropdown-text">Funding</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#main-things-to-know-about-the-outcome" id="toc-main-things-to-know-about-the-outcome" class="nav-link active" data-scroll-target="#main-things-to-know-about-the-outcome">Main things to know about the outcome</a></li>
  <li><a href="#details-about-the-outcome" id="toc-details-about-the-outcome" class="nav-link" data-scroll-target="#details-about-the-outcome">Details about the outcome</a></li>
  <li><a href="#how-we-calculated-the-outcome" id="toc-how-we-calculated-the-outcome" class="nav-link" data-scroll-target="#how-we-calculated-the-outcome">How we calculated the outcome</a>
  <ul class="collapse">
  <li><a href="#main-approach" id="toc-main-approach" class="nav-link" data-scroll-target="#main-approach">Main approach</a></li>
  <li><a href="#particularities" id="toc-particularities" class="nav-link" data-scroll-target="#particularities">Particularities</a></li>
  <li><a href="#additional-data-source" id="toc-additional-data-source" class="nav-link" data-scroll-target="#additional-data-source">Additional data source</a></li>
  </ul></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Calculating the outcome for the LISS data</h1>
  <div class="quarto-categories">
    <div class="quarto-category">outcome</div>
    <div class="quarto-category">data preprocessing</div>
    <div class="quarto-category">LISS</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>Here we describe the outcome (or target variable) for the LISS dataset and how we calculated it.</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Gert Stulp </p>
             <p>Lisa Sivak </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 3, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="main-things-to-know-about-the-outcome" class="level2">
<h2 class="anchored" data-anchor-id="main-things-to-know-about-the-outcome">Main things to know about the outcome</h2>
<ul>
<li>The outcome, or variable <code>new_child</code>, is having a(nother) child in 2021-2023, biological or adopted. If the outcome is <code>1</code> it means that the respondent got a new biological or adopted child in 2021-2023, and if it is <code>0</code> it means that there were no new biological or adopted children in this period<br>
</li>
<li>The outcome is only available for around 1400 people in our target group<br>
</li>
<li>In the training data there are around 1000 people, for whom the outcome is available (for about 22% of them it is 1). The rest are in the holdout data with the same proportion<br>
</li>
<li>In the holdout data there are no people with missing outcome<br>
</li>
<li>Only people with known outcome are comparable</li>
</ul>
</section>
<section id="details-about-the-outcome" class="level2">
<h2 class="anchored" data-anchor-id="details-about-the-outcome">Details about the outcome</h2>
<ul>
<li>The outcome is only available for 1400 people from our target group because some dropped out altogether from the LISS panel before 2020 or just didn’t participate in Family and Household surveys in 2020-2023<br>
</li>
<li>Why do we count only biological and adopted children? LISS surveys ask about all children (biological, adopted, living-at-home stepchildren, and foster children). However, the Dutch register data, that will be used in Phase 2, records only legal parenthood. You can find the full definition of legal parents <a href="https://www.rijksoverheid.nl/onderwerpen/ouderlijk-gezag/vraag-en-antwoord/biologisch-juridisch-ouderschap">here</a>, but mainly this definition includes biological and adoptive parents, and excludes foster parents and step-parents. To make the outcome comparable across our datasets, we only took biological and adopted children into account in calculating the outcome for the LISS data. Another reason is that getting a foster or step-child is likely not the same as getting a biological child or adopted child.</li>
<li>the outcome is also available for people outside the target group (e.g.&nbsp;older than 45 and younger than 18), see <code>PreFer_train_supplementary_outcome.csv</code></li>
</ul>
</section>
<section id="how-we-calculated-the-outcome" class="level2">
<h2 class="anchored" data-anchor-id="how-we-calculated-the-outcome">How we calculated the outcome</h2>
<section id="main-approach" class="level3">
<h3 class="anchored" data-anchor-id="main-approach">Main approach</h3>
<p>We mainly used information from the Family and Household Core Study module from 2020-2023. In this survey, people answer each year, whether they have children – biological children as well as stepchildren, adoptive children, and foster children. Respondents then further answer how many children they have, list the birth years of these children, and the type of parent-child relation (biological, adoptive, foster, step). People are also asked whether they have deceased children and their birth years.</p>
<p>We used all this information to calculate the overall number of biological and adoptive children (alive and deceased) for each year between 2020-2023. If in 2021, 2022, or 2023 this number was higher than in 2020, then the outcome is 1. If in 2021, 2020, and 2023 the number of children is not higher than in 2020, the outcome is 0.</p>
</section>
<section id="particularities" class="level3">
<h3 class="anchored" data-anchor-id="particularities">Particularities</h3>
<p>In cases when information from some year(s) was missing, we used some additional information. Examples: - if person reported the same number of children in 2021-2023, but the information from 2020 was missing, we checked birth years of children reported in 2023. If there were children with birth years in 2021-2023, the outcome is 1. We used the same strategy when information was missing in 2020-2021 or 2020-2022. - if person reported the same number of children in 2021-2023, but the information from 2020 was missing, we used overall number of children (calculated the same was as for 2020-2023) from 2019, and if it was the same, than the outcome was 0. If 2019 was no available, we used information from last available pre-2020 wave. If the number of children is not the same or missing, then we cannot establish the outcome (it is missing). We can compare if the number of children was the same in 2019 as in 2021-2023; if it’s the same we can assume that there were no new children in 2021-2023. So, we use information from the last year before 2020, for which information about children is not missing, only in these specific cases, and only to potentially change the outcome from NA to 0. We cannot change the outcome from NA to 1 if the number of children is lower in 2019, because this child might have been born in 2020.<br>
- if person missed all or some waves in 2020-2022 (and if answered in some waves, the answer was never 1) and in 2023 a person reported not ever having alive children and no deceased children, we assumed the the outcome is 0</p>
</section>
<section id="additional-data-source" class="level3">
<h3 class="anchored" data-anchor-id="additional-data-source">Additional data source</h3>
</section>
</section>
<section id="notes" class="level2">
<h2 class="anchored" data-anchor-id="notes">Notes</h2>
<p>These notes could be useful if you decide to calculate the number of children in 2008-2020 to use as a feature - Note: type of relationship is not available for deceased children. Given that the majority of children in the data (~95%) are biological, we will count all deceased children as biological (~4% of respondents reported one or more deceased children).<br>
- Used info from previous years - people report deceased children inconsistently. - types of relationships also inconsistently There are 147 people who reported more than one birth year of deceased child(ren) - e.g.&nbsp;reported two birth years in the same wave or in different waves. Some of these cases seem problematic: people report deceased child(ren) with the same birth year(s) in several waves. It is very likely a misunderstanding of the question <code>cf***471</code>: if people already reported a deceased child in previous waves, in this question they are asked if they have another deceased child. They shouldn’t report all deceased children.</p>
<p>Because of these problems it is better to count unique birth years of deceased children instead of counting the number of all reported birth years. We choose this, because it could happen that the number of children in 2021-2023 increases only because people reports the birthyear of a (likely) previously deceased child. Moreover, if the number of alive children (at one point in that same time range) does not similarly increase, the outcome cannot be 1. - For readability, we omit the details about data preprocessing and checking inconsistencies in people reporting about children, and some details about how we calculated the number of children for each year. The full script will be available after the challenge as well as all other scripts for data preprocessing.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">PreFer data challenge<br>
The website is based on <a href="https://realworlddatascience.net/" target="_blank">Real World Data Science</a><br>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">The map of the Netherlands by <a href="https://www.vecteezy.com/png/18876571-polygonal-netherlands-map" target="_blank">Tananuphong Kummaru on Vecteezy</a></div>
  </div>
</footer>



</body></html>